# AI Personal Assistant - WhatsApp Version
# Environment Variables Template
# Copy this file to .env and fill in your actual values

# ============================================
# Gemini AI Configuration
# ============================================
# Get your API key from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here

# ============================================
# WhatsApp Business API Configuration
# ============================================
# Get from Meta for Developers: https://developers.facebook.com/
# After creating WhatsApp Business App

# Permanent Access Token (from System User)
WHATSAPP_ACCESS_TOKEN=your_permanent_access_token_here

# Phone Number ID (found in WhatsApp API Setup)
WHATSAPP_PHONE_NUMBER_ID=1234567890123

# WhatsApp Business Account ID
WHATSAPP_BUSINESS_ACCOUNT_ID=your_business_account_id_here

# Verify Token (random string you create)
# Used for webhook verification
WHATSAPP_VERIFY_TOKEN=your_random_verify_token_here

# Your WhatsApp phone number (for testing)
# Format: +[country code][number]
WHATSAPP_USER_PHONE=+1234567890

# ============================================
# Google Tasks OAuth Configuration
# ============================================
# Get from Google Cloud Console
GOOGLE_TASKS_CLIENT_ID=your_client_id.apps.googleusercontent.com
GOOGLE_TASKS_CLIENT_SECRET=your_client_secret_here
GOOGLE_TASKS_REFRESH_TOKEN=your_refresh_token_here

# ============================================
# Database Configuration
# ============================================
# Path to SQLite database file
DATABASE_PATH=/home/n8n/data/task_assistant.db

# For future PostgreSQL migration:
# DATABASE_TYPE=postgres
# DATABASE_HOST=localhost
# DATABASE_PORT=5432
# DATABASE_NAME=task_assistant
# DATABASE_USER=n8n
# DATABASE_PASSWORD=your_secure_password

# ============================================
# n8n Configuration
# ============================================
# Your n8n instance URL
N8N_WEBHOOK_URL=https://your-n8n-domain.com/webhook

# Workflow IDs (set after importing WhatsApp workflows)
WORKFLOW_A_WHATSAPP_ID=10  # WhatsApp Inbound Router
WORKFLOW_B_ID=2             # Command Executor (shared)
WORKFLOW_D_WHATSAPP_ID=12  # WhatsApp Task Drafting
WORKFLOW_E_ID=5             # Confirmation & Execution (shared)

# ============================================
# User Configuration
# ============================================
# Default user timezone (IANA timezone format)
USER_TIMEZONE=America/New_York

# User ID for single-user MVP
USER_ID=default_user

# ============================================
# System Configuration
# ============================================
# Environment (development, production)
NODE_ENV=production

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# ============================================
# Security
# ============================================
# Optional: Webhook authentication secret
WEBHOOK_SECRET=your_webhook_secret_here

# Optional: Allowed WhatsApp user phone numbers (comma-separated)
ALLOWED_WHATSAPP_USERS=+1234567890,+0987654321

# ============================================
# WhatsApp-Specific Features
# ============================================
# Message template names (for business-initiated messages)
TEMPLATE_DAILY_BRIEFING=daily_briefing
TEMPLATE_REMINDER=task_reminder

# Enable/disable features
FEATURE_CALENDAR_SYNC=false
FEATURE_IMAGE_PARSING=false
FEATURE_DAILY_BRIEFING=false
FEATURE_VOICE_MESSAGES=false

# ============================================
# Rate Limiting (Future)
# ============================================
# Max commands per user per minute
RATE_LIMIT_PER_MINUTE=10

# ============================================
# Backup Configuration
# ============================================
# Backup directory
BACKUP_DIR=/home/n8n/backups

# Backup retention days
BACKUP_RETENTION_DAYS=30

# ============================================
# WhatsApp Cloud API Settings
# ============================================
# API version
WHATSAPP_API_VERSION=v18.0

# Graph API base URL (rarely needs changing)
WHATSAPP_GRAPH_API_BASE=https://graph.facebook.com

# ============================================
# Monitoring & Analytics (Future)
# ============================================
# Enable conversation tracking
ENABLE_CONVERSATION_TRACKING=true

# Track message delivery status
TRACK_MESSAGE_STATUS=false

# ============================================
# Development Only
# ============================================
# Set to true for local testing with ngrok
USE_NGROK=false
NGROK_AUTH_TOKEN=your_ngrok_token_here

# WhatsApp test mode (limits to 5 phone numbers)
WHATSAPP_TEST_MODE=true
